{"name":"Walmart Kaggle Competition","tagline":"How I Achieved a Top 25% Score in the Walmart Classification Challenge","body":"### The Walmart Data Science Competition \r\n\r\nWalmart uses art and science to better understand and classify their customers - \"art\" referring to their extensive expertise in the retail sector and \"science\" referring to the utilization of one of the  world's largest retail and customer databases. Customer classification can help Walmart better serve their customers in many ways, such as helping them improve store layout, better target promotions through new e-commerce platforms like apps, and analyze buying trends. \r\n\r\nAs a recruitment competition, Walmart challenged the data science community to recreate their customer classification system using only \"science\", or hard data on customer transactions, and very limited at that. They provided over 600,000 thousands rows of training data, with each row representing an individual item purchased. Here's a snapshot of the initial dataset:\r\n<img src=https://cloud.githubusercontent.com/assets/14279088/12134928/dddccf70-b3f1-11e5-8966-2b81ed9d0435.png>\r\n\r\nYou can see that Walmart provides, from left to right:\r\n* The designated Walmart Trip Type classification - this is the \"answer\" that we will train our models on the\r\n* A Visit Number - a unique identifier for a particular trip, with ~90,000 trips in all\r\n* The day of the week\r\n* The UPC (or barcode) number of the item\r\n* The scan count - the number of that particular item purchased, with a return signified as a negative\r\n* A Department Description - 1 of 72 item categories created by Walmart\r\n* A Fineline Number - 1 of 5000 numbers used to further classify items\r\n\r\nRight away, I knew an important part of this competition would be to understand what this data means and what story it's telling. That way, I could figure out what story to tell machine learning models through feature generation. \r\n\r\n### Data Analysis\r\n\r\nA great tool to understand numerous categories of data on a single screen is a heat map. I used a heat map to better understand Walmart's 38 trip types, defined by the quantity of the department categories purchased within each. I soon found many correlations.\r\n\r\n`a4_dims = (13, 9)\r\nfig, ax = plt.subplots(figsize=a4_dims)\r\nseaborn.heatmap(ax=ax, data=mytestgrouped_categories_norm.T, linecolor='lightgrey', linewidths=.00000000000000001)\r\nheatmap = ax.pcolor(mytestgrouped_categories_norm, cmap=plt.cm.Blues, alpha=0.8)\r\nax.set_xticklabels(mytestgrouped_categories.columns, minor=False)\r\nax.set_yticklabels(mytestgrouped_categories_norm.index, minor=False)\r\nax.invert_yaxis()\r\nax.xaxis.tick_top()\r\nax.set_yticks(np.arange(mytestgrouped_categories_norm.shape[1]) + 1, minor=False)\r\nax.set_xticks(np.arange(mytestgrouped_categories_norm.shape[0]) + 1, minor=False)\r\nplt.xticks(rotation=90)\r\nplt.rc('xtick', labelsize=10)\r\nplt.title('TripType',y=1.04)`\r\n\r\n<img src=https://cloud.githubusercontent.com/assets/14279088/12152480/3357f490-b472-11e5-8738-3fb0179796f0.png>\r\n \r\nI also created bar graphs for each trip type to understand in more detail what was being purchased, for example Trip 4:\r\n\r\n<img src=https://cloud.githubusercontent.com/assets/14279088/12152516/6d0369fe-b472-11e5-8c62-cccbcbaf3300.png>\r\n\r\nI called this one the \"Vices\" Trip. I then labeled all 38 trips:\r\n\r\n<img src=https://cloud.githubusercontent.com/assets/14279088/12152574/ac0b0918-b472-11e5-90d9-817d581e7995.png>\r\n\r\nFinally, I could tell a story about Walmart's transactional data. The most important aspect of their classification were the types of items purchased, with many trips signifying a trip for a specific cause, from pet food to party items to men's clothes. With this, I then went about creating the features, or columns, that my model would read.\r\n\r\n### Feature Creation\r\n\r\nThe data munging for this project was made a little bit complicated by how Walmart presented the data. Machine learning models are typically structured to make predictions or classifications on individual rows in a table. This presented a problem - each row in the Walmart data set represented a **single item**, not a **complete store visit**. As often comes up in data science, I needed to summarize many rows of items data into a single row that would encapsulate the meaning of a particular trip.\r\n\r\nI thus created the following features:\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}